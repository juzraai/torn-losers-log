(window.webpackJsonp=window.webpackJsonp||[]).push([[28,6,18,19],{419:function(t,e,r){"use strict";r.r(e);var n=r(57),component=Object(n.a)({},(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"border-0 card shadow"},[t._t("default")],2)}),[],!1,null,null,null);e.default=component.exports},420:function(t,e,r){var content=r(422);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(154).default)("08d58d36",content,!0,{sourceMap:!1})},421:function(t,e,r){"use strict";r(420)},422:function(t,e,r){var n=r(153)(!1);n.push([t.i,"@media print{.container>.row>.col[data-v-29e00fd0]{flex:1;max-width:100%;width:100%}}",""]),t.exports=n},423:function(t,e,r){"use strict";r.r(e);var n={props:{backLabel:{type:String,default:"What is TLL?"},backTo:{type:String,default:"/"},showBack:{type:Boolean,default:!1},title:{type:String,default:""}}},o=(r(421),r(57)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col col-md-10 col-lg-8 col-xl-7 mx-auto"},[r("Card",[t.showBack?r("div",{staticClass:"card-header d-print-none py-1"},[r("b-button",{staticClass:"border-0",attrs:{size:"sm",to:t.backTo,variant:"link"}},[r("i",{staticClass:"fas fa-long-arrow-alt-left mr-1"}),t._v("\n\t\t\t\t\t\t"+t._s(t.backLabel)+"\n\t\t\t\t\t")])],1):t._e(),t._v(" "),r("div",{staticClass:"card-body"},[t.title?r("h2",{staticClass:"card-title mb-4",domProps:{textContent:t._s(t.title)}}):t._e(),t._v(" "),t._t("default")],2),t._v(" "),r("div",{staticClass:"card-footer d-flex d-print-none justify-content-between"},[t._t("footer")],2)])],1)])])}),[],!1,null,"29e00fd0",null);e.default=component.exports;installComponents(component,{Card:r(419).default})},436:function(t,e,r){"use strict";r(34)},444:function(t,e,r){"use strict";var n=r(77),o=(r(10),r(16),r(312),r(228),r(37),r(155)),l=(r(436),r(34),r(314),r(40));e.a={convert:function(t){var e=t.apiKey,r=t.dark,c=t.lastUpdate,d=t.losses,f=t.names,v=t.playerId,m=t.tab,_={group:[l.a.EVENT,l.a.SESSION,l.a.SESSION,l.a.CONTRACT,l.a.CONTRACT][m]||l.a.EVENT,lastUpdated:c,paid:m<4},h={apiKey:e,darkMode:r,playerId:v},y=[];Object.entries(f).forEach((function(t){var e=Object(n.a)(t,2),r=e[0],o=e[1],l=Number("0"+r);l&&y.push({id:l,name:o})}));for(var i=0;i<d.length;i++){var w=d[i],code=w.code,k=w.defender_id,M=w.paid,O=w.price,S=w.timestamp_ended;d[i]=new o.a({code:code,opponentId:k,paid:M,price:O,timestamp:S})}var x={players:y};return x["".concat(l.c.ATTACKER,":").concat(l.b.LOST)]=d,{store:{log:_,settings:h},database:x}}}},448:function(t,e,r){var content=r(472);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(154).default)("0446e3ea",content,!0,{sourceMap:!1})},455:function(t,e,r){"use strict";r.r(e);var n={props:{icon:{type:String,default:"fas fa-cog"},label:{type:String,default:""},variant:{type:String,default:"primary"}}},o=r(57),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-sm-8 col-md-9 mb-3 mb-md-0 text-justify"},[t._t("default")],2),t._v(" "),r("div",{staticClass:"col-auto col-sm-4 col-md-3"},[r("b-button",{attrs:{block:"",variant:t.variant},on:{click:function(e){return t.$emit("click",e)}}},[r("i",{staticClass:"fa-fw mr-1",class:t.icon}),t._v("\n\t\t\t"+t._s(t.label)+"\n\t\t")])],1)])}),[],!1,null,null,null);e.default=component.exports},471:function(t,e,r){"use strict";r(448)},472:function(t,e,r){var n=r(153)(!1);n.push([t.i,"h6[data-v-05001291]{font-weight:700;margin-top:2rem}",""]),t.exports=n},482:function(t,e,r){"use strict";r.r(e);r(19),r(18),r(15),r(22),r(16),r(23);var n=r(77),o=r(20),l=r(4),c=(r(82),r(28),r(49),r(10),r(67),r(73),r(469),r(313),r(121)),d=r.n(c),f=r(44),v=r(40),m=r(177),_=r(136),h=r(444);function y(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function w(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var k={head:{title:"Settings"},computed:w(w({},Object(f.c)("settings",["apiKey","darkMode","listLimit","nameResolverIntervalMs","playerId","updateIntervalMs","updateOnLoad"])),{},{darkModeModel:{get:function(){return this.darkMode},set:function(t){this.SET_DARK_MODE(t)}},listLimitModel:{get:function(){return 20===this.listLimit},set:function(t){this.SET_LIST_LIMIT(t?20:10)}},nameResolverIntervalMsModel:{get:function(){return!!this.nameResolverIntervalMs},set:function(t){this.SET_NAME_RESOLVER_INTERVAL_MS(t?5e3:0),m.a.schedule()}},updateIntervalMsModel:{get:function(){return!!this.updateIntervalMs},set:function(t){this.SET_UPDATE_INTERVAL_MS(t?6e4:0),_.a.schedule()}},updateOnLoadModel:{get:function(){return this.updateOnLoad},set:function(t){this.SET_UPDATE_ON_LOAD(t)}}}),beforeMount:function(){this.$store.state.settings.apiKey||this.$router.replace("/migrate")},methods:w(w(w({},Object(f.b)("settings",["SET_DARK_MODE","SET_LIST_LIMIT","SET_NAME_RESOLVER_INTERVAL_MS","SET_UPDATE_INTERVAL_MS","SET_UPDATE_ON_LOAD"])),Object(f.b)("ui",["SET_LOADING"])),{},{exportData:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,n,o,l,c,f,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$exportState(),e.next=3,v.d.dump();case 3:n=e.sent,delete r.settings.apiKey,o=d()().format("YYMMDD-HHmmss"),l=JSON.stringify({store:r,database:n}),c=new Blob([l],{type:"text/plain"}),f=window.URL.createObjectURL(c),(a=document.createElement("a")).setAttribute("download","tll-export-".concat(o,".json")),a.setAttribute("href",f),a.click();case 13:case"end":return e.stop()}}),e)})))()},importData:function(){var t=this,i=document.createElement("input");i.setAttribute("type","file"),i.addEventListener("change",(function(e){var r=Object(n.a)(e.target.files,1)[0],l=new FileReader;l.addEventListener("load",function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((data=JSON.parse(l.result)).store||data.database||(data=h.a.convert(data)),delete data.store.settings.apiKey,data.store.settings.playerId===t.playerId){e.next=5;break}return e.abrupt("return",alert("playerId mismatch! This is someone else's export!"));case 5:return t.SET_LOADING(!0),t.$loadPreviousState(data.store),e.next=9,v.d.deleteRecords();case 9:return e.next=11,v.d.loadDump(data.database);case 11:t.SET_LOADING(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l.readAsText(r)})),i.click()},clearData:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Are you sure you wish to erase TLL data from your browser?",!confirm("Are you sure you wish to erase TLL data from your browser?")){e.next=6;break}return t.$removeStorageEntry(),e.next=5,v.d.deleteDatabase();case 5:window.location.reload();case 6:case"end":return e.stop()}}),e)})))()}})},M=k,O=(r(471),r(57)),component=Object(O.a)(M,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Screen",{attrs:{"back-label":"Back to log","back-to":"/log","show-back":"",title:"Settings"}},[r("h6",[t._v("UI")]),t._v(" "),r("b-form-group",[r("b-form-checkbox",{attrs:{switch:""},model:{value:t.darkModeModel,callback:function(e){t.darkModeModel=e},expression:"darkModeModel"}},[t._v("\n\t\t\tDark mode\n\t\t")])],1),t._v(" "),r("b-form-group",[r("b-form-checkbox",{attrs:{switch:""},model:{value:t.listLimitModel,callback:function(e){t.listLimitModel=e},expression:"listLimitModel"}},[t._v("\n\t\t\tShow 20 list items by default instead of 10\n\t\t")])],1),t._v(" "),r("h6",[t._v("Updates")]),t._v(" "),r("b-form-group",[r("b-form-checkbox",{attrs:{switch:""},model:{value:t.updateOnLoadModel,callback:function(e){t.updateOnLoadModel=e},expression:"updateOnLoadModel"}},[t._v("\n\t\t\tUpdate attacks on page load\n\t\t")])],1),t._v(" "),r("b-form-group",[r("b-form-checkbox",{attrs:{switch:""},model:{value:t.updateIntervalMsModel,callback:function(e){t.updateIntervalMsModel=e},expression:"updateIntervalMsModel"}},[t._v("\n\t\t\tUpdate attacks every minute and hide "),r("i",{staticClass:"fas fa-sync fa-fw mx-1"}),t._v("button\n\t\t")])],1),t._v(" "),r("b-form-group",[r("b-form-checkbox",{attrs:{switch:""},model:{value:t.nameResolverIntervalMsModel,callback:function(e){t.nameResolverIntervalMsModel=e},expression:"nameResolverIntervalMsModel"}},[t._v("\n\t\t\tResolve player names in the background (one name every 5 seconds)\n\t\t\t"),r("br"),t._v(" "),r("small",[t._v("You should turn this on "),r("strong",[t._v("only if")]),t._v(" you see a player ID without a name in the attack list. If you update your attacks regularly, you won't need to use this feature.")])])],1),t._v(" "),r("h6",[t._v("API key")]),t._v(" "),r("client-only",[r("b-form-group",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("\n\t\t\t\tTLL is bound to\n\t\t\t\t"),r("Player",{staticClass:"font-weight-bold",attrs:{xid:t.playerId}}),t._v("\n\t\t\t\tvia this API key:\n\t\t\t")]},proxy:!0},{key:"description",fn:function(){return[t._v("\n\t\t\t\tIf you wish to change the API key or switch to another player,\n\t\t\t\tplease follow these steps: "),r("strong",[t._v("Export")]),t._v(" > "),r("strong",[t._v("Clear")]),t._v(" > enter new API key > "),r("strong",[t._v("Import")]),t._v(".\n\t\t\t")]},proxy:!0}])},[t._v(" "),r("b-form-input",{attrs:{disabled:"",readonly:"",value:t.apiKey.substr(0,5)+"..."}})],1)],1),t._v(" "),r("h6",[t._v("TLL data")]),t._v(" "),r("div",{staticClass:"d-flex flex-column gap"},[r("SettingsButtonSection",{staticClass:"mb-3 mb-sm-0",attrs:{icon:"fas fa-file-download",label:"Export"},on:{click:t.exportData}},[t._v("\n\t\t\tDownload your settings and attacks in a single file.\n\t\t\tYour API key won't be included in the file.\n\t\t")]),t._v(" "),r("SettingsButtonSection",{staticClass:"mb-3 mb-sm-0",attrs:{icon:"fas fa-file-upload",label:"Import",variant:"danger"},on:{click:t.importData}},[r("strong",{staticClass:"text-danger"},[t._v("Erase current settings and attacks, and restore data from an uploaded export.")])]),t._v(" "),r("SettingsButtonSection",{staticClass:"align-items-center",attrs:{icon:"fas fa-trash-alt",label:"Clear",variant:"danger"},on:{click:t.clearData}},[r("strong",{staticClass:"text-danger"},[t._v("Erase TLL data from your browser.")])])],1)],1)}),[],!1,null,"05001291",null);e.default=component.exports;installComponents(component,{Player:r(310).default,SettingsButtonSection:r(455).default,Screen:r(423).default})}}]);